# ============================================================================
# Real-Time Translation Configuration
# ============================================================================
# Edit this file to customize your translation settings
# Restart the application after making changes





#---------------------------------------------------------------------------#
# In order to make the translation work, you need:                          #
# to config this values                                                     #
#---------------------------------------------------------------------------#
[Translation]
# Source language (language you speak)
# Common codes: fr=French, en=English, es=Spanish, de=German, it=Italian, 
#               pt=Portuguese, ru=Russian, ja=Japanese, ko=Korean, zh=Chinese
from_language = fr

# Target language (language to translate to)
to_language = en

# Language display names (for console output)
from_language_name = French
to_language_name = English


#---------------------------------------------------------------------------#
# Everything below this line usually doesn't need to be changed             #
# Unless you know what you're doing!                                        #
#---------------------------------------------------------------------------#



[Azure]
# Azure Translator region (where your Azure service is located)
# Common regions: eastus, westus2, westeurope, eastasia, etc.
region = francecentral

# API endpoint (usually doesn't need to be changed)
endpoint = https://api.cognitive.microsofttranslator.com

# API version
api_version = 3.0

# Request timeout in seconds
timeout = 5

[Audio]
# Microphone settings
# Calibration duration for ambient noise (seconds)
# Increase this if you have inconsistent background noise
ambient_noise_duration = 3

# Listening timeout (seconds) - how long to wait for speech to START
# Higher value = more patient listening
listen_timeout = 2

# Phrase time limit (seconds) - maximum length of a single phrase
# Increase for longer sentences (set to None for unlimited)
phrase_time_limit = 10

# Energy threshold (0-4000) - sensitivity to sound
# Lower = more sensitive, Higher = less sensitive
# Set to 0 to use automatic adjustment (RECOMMENDED)
# If manual: try 300-800 for normal environments, 1000-2000 for noisy
energy_threshold = 1000

# Dynamic energy adjustment (helps with varying volume levels)
dynamic_energy_threshold = true

# Pause threshold (seconds) - how long to wait during silence before considering speech finished
# CRITICAL: Increase this to avoid cutting sentences prematurely!
# 0.8 = default (too short, cuts sentences)
# 1.2-1.5 = better for normal speech with pauses
# 2.0+ = for slower speech or thinking pauses
pause_threshold = 2.0

# Non-speaking duration (seconds) - minimum silence to end a phrase
# Higher = waits longer for you to continue speaking
# Helps avoid cutting mid-sentence when you pause briefly
non_speaking_duration = 1.5


[Output]
# Output file for OBS (relative to script directory)
obs_file = obs_translation.txt

# Backup/log file (set to empty to disable)
log_file = translation_log.txt

# File encoding
encoding = utf-8

# Clear file on startup (true/false)
clear_on_start = true

# Add timestamp to translations (true/false)
include_timestamp = false

# Timestamp format (if include_timestamp is true)
timestamp_format = [%%H:%%M:%%S]

# Voice logging settings (NEW)
voice_log_enabled = true
voice_log_directory = voice_logs

# OBS text buffer settings (chat-like behavior)
# Number of translation lines to keep visible in OBS
obs_buffer_lines = 3

# Time in seconds before each line expires and disappears (like chat messages)
# Each line has its own timer - old lines disappear as new ones appear
obs_auto_clear_timeout = 10

# Line separator for OBS display (\n for new line)
obs_line_separator = \n

[Display]
# Console output settings
show_original = true
show_translation = true
show_confidence = false

# Prefixes for console output (use your language codes or names)
original_prefix = Original:
translation_prefix = Translation:

# Console colors (for future enhancement)
use_colors = false

[Performance]
# Threading settings
use_background_processing = true

# Maximum number of concurrent translation requests
max_concurrent_requests = 3

# Retry settings
max_retries = 2
retry_delay = 1

# Cache settings (for future enhancement)
enable_cache = false
cache_size = 100

[Advanced]
# Speech recognition settings
# Options: google (free but lower quality for French), whisper (better quality, needs openai-whisper)
recognition_service = whisper

# Whisper model size (affects accuracy vs speed)
# Options: tiny (fastest), base, small (good balance), medium, large (most accurate but slowest)
# For French: "small" or "medium" recommended
whisper_model = medium

# Whisper device (cuda for GPU acceleration if available, cpu for CPU)
whisper_device = gpu

# Alternative: sphinx (offline, but less accurate)

# Silence handling
skip_silence = true
silence_threshold = 0.5

# Debug mode (more verbose output)
debug_mode = false

# Fallback behavior when translation fails
fallback_mode = show_original
# Options: show_original, show_error, show_placeholder